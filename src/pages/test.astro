---
import { getCollection } from 'astro:content';

// Debug: Versuche den Pfad zu loggen
console.log('Content Directory Path:', import.meta.url);

try {
  // Debug: Log vor dem Versuch
  console.log('Versuche Posts zu laden...');

  const allPosts = await getCollection('post');
  console.log('Posts geladen, Anzahl:', allPosts.length);

  const publishedPosts = await getCollection('post', ({ data }) => {
    console.log('Post data beim Filtern:', data);
    return import.meta.env.PROD ? !data.draft : true;
  });
} catch (error) {
  console.error('Fehler beim Laden der Posts:', error);
}
---

<h1>Test</h1>
<h2>Debug Information:</h2>
<div>
  <p>Environment: {import.meta.env.MODE}</p>
  <p>Content Collections verf√ºgbar: {JSON.stringify(Object.keys(await import.meta.glob('/src/content/**/*.md')))}</p>
</div>
