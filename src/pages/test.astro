---
import { getCollection } from 'astro:content';

// Erste Abfrage ohne Filter
const allPosts = await getCollection('post');
console.log('Alle Posts (ohne Filter):', allPosts.length);

// Zweite Abfrage mit Draft-Check
const publishedPosts = await getCollection('post', ({ data }) => {
  console.log('Post data:', data);
  return import.meta.env.PROD ? !data.draft : true;
});
console.log('Publizierte Posts:', publishedPosts.length);
---

<h1>Test</h1>
<h2>Debug Information:</h2>
<div>
  <p>Alle Posts: {allPosts.length}</p>
  <p>Publizierte Posts: {publishedPosts.length}</p>
  <h3>Rohe Post-Daten:</h3>
  <pre>
    {JSON.stringify(allPosts, null, 2)}
  </pre>
</div>
